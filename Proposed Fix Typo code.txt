async function openAddStrengthStandardModal() {
    createModal("Add Strength Standard", (content) => {
        const form = document.createElement('div');
        form.style.cssText = 'display: flex; flex-direction: column; gap: 16px;';
        content.appendChild(form);
        
        const nameInput = document.createElement('input');
        nameInput.type = 'text';
        nameInput.placeholder = "Exercise name (e.g., Dumbbell Curl)";
        nameInput.style.cssText = `padding: 12px; background: #0f0f0f; border: 1px solid ${THEME.colorBorder}; color: ${THEME.color}; font-size: 1em;`;
        form.appendChild(nameInput);
        
        let exerciseType = "Weighted";
        const typeContainer = document.createElement('div');
        typeContainer.style.cssText = 'display: flex; gap: 12px;';
        const weightedBtn = document.createElement('button');
        weightedBtn.textContent = "ðŸ‹ï¸ Weighted";
        weightedBtn.style.cssText = `flex: 1; padding: 14px; background: rgba(154,140,122,0.2); border: 1px solid ${THEME.color}; color: ${THEME.color}; cursor: pointer;`;
        const bodyweightBtn = document.createElement('button');
        bodyweightBtn.textContent = "ðŸ¤¸ Bodyweight";
        bodyweightBtn.style.cssText = `flex: 1; padding: 14px; background: #0f0f0f; border: 1px solid ${THEME.colorBorder}; color: ${THEME.colorMuted}; cursor: pointer;`;
        weightedBtn.onclick = () => { exerciseType = "Weighted"; weightedBtn.style.background = "rgba(154,140,122,0.2)"; weightedBtn.style.borderColor = THEME.color; weightedBtn.style.color = THEME.color; bodyweightBtn.style.background = "#0f0f0f"; bodyweightBtn.style.borderColor = THEME.colorBorder; bodyweightBtn.style.color = THEME.colorMuted; };
        bodyweightBtn.onclick = () => { exerciseType = "Bodyweight"; bodyweightBtn.style.background = "rgba(154,140,122,0.2)"; bodyweightBtn.style.borderColor = THEME.color; bodyweightBtn.style.color = THEME.color; weightedBtn.style.background = "#0f0f0f"; weightedBtn.style.borderColor = THEME.colorBorder; weightedBtn.style.color = THEME.colorMuted; };
        typeContainer.appendChild(weightedBtn);
        typeContainer.appendChild(bodyweightBtn);
        form.appendChild(typeContainer);
        
        const infoText = document.createElement('p');
        infoText.innerHTML = `<strong>Weighted:</strong> Standards in kg (1RM)<br><strong>Bodyweight:</strong> Standards in reps<br><span style="opacity:0.7;">Use "< 1" for sub-1 rep standards.</span>`;
        infoText.style.cssText = `color: ${THEME.colorMuted}; font-size: 12px; line-height: 1.6;`;
        form.appendChild(infoText);
        
        const createBtn = document.createElement('button');
        createBtn.textContent = "CREATE & OPEN";
        createBtn.style.cssText = `padding: 14px 24px; background: ${THEME.color}; color: #0a0a0a; border: none; font-size: 14px; font-weight: 600; letter-spacing: 2px; cursor: pointer;`;
        createBtn.onclick = async () => {
            const exerciseName = nameInput.value.trim();
            if (!exerciseName) { new Notice("Please enter an exercise name"); return; }
            const filePath = `${EXERCISE_DB_FOLDER}/${exerciseName}.md`;
            const unitLabel = exerciseType === "Bodyweight" ? "reps" : "kg (1RM)";
            const fileContent = `---\nData: Strength Standard\nExercise: "${exerciseName}"\nType: ${exerciseType}\ncssclasses:\n  - hide-properties\n---\n\n# ${exerciseName} Strength Standards\n\n> Standards are in **${unitLabel}**\n\n## Bodyweight Table\n| BW  | Beg. | Nov. | Int. | Adv. | Elite |\n| --- | ---- | ---- | ---- | ---- | ----- |\n| 50  | 0    | 0    | 0    | 0    | 0     |\n| 60  | 0    | 0    | 0    | 0    | 0     |\n| 70  | 0    | 0    | 0    | 0    | 0     |\n| 80  | 0    | 0    | 0    | 0    | 0     |\n| 90  | 0    | 0    | 0    | 0    | 0     |\n\n## Age Table\n| Age | Beg. | Nov. | Int. | Adv. | Elite |\n| --- | ---- | ---- | ---- | ---- | ----- |\n| 15  | 0    | 0    | 0    | 0    | 0     |\n| 20  | 0    | 0    | 0    | 0    | 0     |\n| 30  | 0    | 0    | 0    | 0    | 0     |\n| 40  | 0    | 0    | 0    | 0    | 0     |\n| 50  | 0    | 0    | 0    | 0    | 0     |\n\n---\n\n\`\`\`dataviewjs\n// TABLE FIXER v1.0\nconst THEME = { color: "#9a8c7a", colorBorder: "#3a342a", colorMuted: "#6a5a4a" };\n\nconst container = dv.el("div", "", { attr: { style: "text-align: center; margin: 20px 0;" } });\n\nconst fixBtn = document.createElement('button');\nfixBtn.textContent = "ðŸ”§ FIX PASTED TABLE SPACING";\nfixBtn.style.cssText = \`padding: 12px 24px; background: \${THEME.color}; color: #0a0a0a; border: none; font-size: 13px; font-weight: 600; letter-spacing: 2px; cursor: pointer; transition: all 0.3s ease;\`;\n\nfixBtn.onmouseover = () => { fixBtn.style.transform = "translateY(-2px)"; fixBtn.style.boxShadow = "0 4px 12px rgba(154, 140, 122, 0.4)"; };\nfixBtn.onmouseout = () => { fixBtn.style.transform = "translateY(0)"; fixBtn.style.boxShadow = "none"; };\n\nfixBtn.onclick = async () => {\n    const currentFile = dv.current().file.path;\n    const file = app.vault.getAbstractFileByPath(currentFile);\n    if (!file) { new Notice("âŒ File not found"); return; }\n    \n    let content = await app.vault.read(file);\n    \n    // Fix table spacing by ensuring spaces around pipe delimiters\n    const fixedContent = content.split('\\n').map(line => {\n        // Only process lines that look like table rows (contain pipes)\n        if (line.includes('|')) {\n            // Split by pipes, trim each cell, then rejoin with proper spacing\n            const cells = line.split('|').map(cell => cell.trim());\n            return '| ' + cells.filter(c => c !== '').join(' | ') + ' |';\n        }\n        return line;\n    }).join('\\n');\n    \n    await app.vault.modify(file, fixedContent);\n    new Notice("âœ… Table spacing fixed! Refresh the page to see changes.");\n    \n    // Visual feedback\n    fixBtn.textContent = "âœ“ FIXED!";\n    fixBtn.style.background = "#7a9a7d";\n    setTimeout(() => {\n        fixBtn.textContent = "ðŸ”§ FIX PASTED TABLE SPACING";\n        fixBtn.style.background = THEME.color;\n    }, 2000);\n};\n\ncontainer.appendChild(fixBtn);\n\nconst helpText = document.createElement('p');\nhelpText.textContent = "Use this if you pasted a table without proper spacing";\nhelpText.style.cssText = \`color: \${THEME.colorMuted}; font-size: 11px; font-style: italic; margin-top: 8px;\`;\ncontainer.appendChild(helpText);\n\`\`\`\n`;
            try {
                if (!app.vault.getAbstractFileByPath(EXERCISE_DB_FOLDER)) await app.vault.createFolder(EXERCISE_DB_FOLDER);
                if (!app.vault.getAbstractFileByPath(filePath)) await app.vault.create(filePath, fileContent);
                closeModal();
                setTimeout(() => { window.location.href = `obsidian://open?vault=${encodeURIComponent(VAULT_NAME)}&file=${encodeURIComponent(filePath)}`; }, 300);
            } catch (error) { new Notice(`Error: ${error.message}`); }
        };
        form.appendChild(createBtn);
    });
}